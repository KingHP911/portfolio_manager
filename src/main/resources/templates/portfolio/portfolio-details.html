<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Getting Started: Serving Web Content</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
<header th:insert="blocks/header :: header"></header>
<hr class="my-4">

<div class="container mt-5">
    <div class="alert alert-info mt-2">
        <h1 th:text="${portfolio.getName()}"></h1>

        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
            <h1 class="h2">Papers</h1>
        </div>

        <table class="table table-striped table-sm">
            <thead>
            <tr>
                <th>Name</th>
                <th>Ticker</th>
                <th>Volume</th>
                <th>Purchase Date</th>
                <th>Purchase Price</th>
                <th>Remove</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="el : ${papers}">
                <td th:text="${el.getName()}"></td>
                <td th:text="${el.getPaper().getTicker()}"></td>
                <td th:text="${el.getVol()}"></td>
                <td th:text="${el.getPurchaseDate()}"></td>
                <td th:text="${el.getPurchasePrice()}"></td>
                <td>
                    <form th:action="@{/portfolio/{id}/removePaper(id=${portfolio.getId()})}" method="post">
                        <input type="hidden" name="removingPaperId" id="removingPaperId" th:value="${el.getId()}"/>
                        <button class="btn btn-sm btn-outline-secondary" type="submit">Remove</button>
                    </form>
                </td>
            </tr>
            </tbody>
        </table>

        <h5 class="h5">Adding paper</h5>
        <form th:action="@{/portfolio/{id}/addPaper(id=${portfolio.getId()})}" method="post">
            <select class="form-control" id="addingPaperId" name="addingPaperId">
                <option value="">Select paper</option>
                <option th:each="paper : ${allPapers}"
                        th:value="${paper.getId()}"
                        th:text="${paper.getName()}">
                </option>
            </select>
            <br>
            <input type="number" step=0.01 name="vol" placeholder="Input volume." class="form-control">
            <br>
            <button class="btn btn-sm btn-outline-secondary" type="submit">Add</button>
        </form>

    </div>
</div>
</body>
</html>